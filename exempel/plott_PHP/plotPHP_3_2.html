<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>PlottTest 3.2</title>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script>
		// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch
		function loadDoc()
		{
			let url = "plotDataPHP.php";
			
			fetch( url, {method: 'GET'} )
				.then( plottning )
				.catch( data => console.error(data) );
		}

		async function plottning( resp )
		{	
			const data = await resp.json();
			Plotly.newPlot('graf', data );
			console.log(data);
		}

	</script>

</head>

<body>
	<div id="graf" style="width: 480px; height: 400px;"><!-- Plotly ritar här --></div>

	<h1>Plott av data</h1>
	<p>Data hårdkodat i PHP.</p>
	
	<button type="button" onclick="loadDoc()">Ladda om</button>
</body>

</html>

